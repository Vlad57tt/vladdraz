:root {
	/* Переменные для темной темы (по умолчанию) */
	--bg-color: #2d313a; /* Немного черно-серый фон body */
	--editor-bg: #3c4048; /* Фон редактора */
	--info-panel-bg: #282c34; /* Чуть темнее фон для панели справа */
	--text-color: #e6edf3; /* Светлый текст для темной темы (для кода) */
	--info-text-color: #abb2bf; /* Цвет текста для панели справа (можно сделать чуть менее ярким) */
	--line-numbers-color: #8b949e; /* Серый для номеров строк */
	--border-color: #4a505c; /* Цвет рамки/разделителя */

	/* Цвета синтаксиса для темной темы*/
	--syntax-keyword: #ff7b72; /* Красный */
	--syntax-string: #a5d6ff; /* Голубой */
	--syntax-comment: #8b949e; /* Серый */
	--syntax-number: #a5d6ff; /* Голубой */
	--syntax-variable: #d2a8ff; /* Фиолетовый */
	--syntax-operator: #e6edf3; /* Белый */
	--syntax-class-name: #f0a65b; /* Оранжевый */
	--syntax-function-name: #d2a8ff; /* Фиолетовый */
	--syntax-self: #ff7b72; /* Красный */
	--syntax-attribute: #79c0ff; /* Синий */
}

/* Переопределяем переменные для светлой темы */
body.light-theme {
	--bg-color: #f6f8fa; /* Светлый фон body */
	--editor-bg: #ffffff; /* Белый фон редактора */
	--info-panel-bg: #eef1f4; /* Чуть темнее фон для панели справа */
	--text-color: #24292f; /* Темный текст для светлой темы (для кода) */
	--info-text-color: #57606a; /* Цвет текста для панели справа */
	--line-numbers-color: #a0a0a0; /* Серый для номеров строк */
	--border-color: #d0d7de; /* Цвет рамки/разделителя */

	/* Цвета синтаксиса для светлой темы*/
	--syntax-keyword: #cf222e; /* Красный */
	--syntax-string: #0a3069; /* Темно-синий */
	--syntax-comment: #6e7781; /* Серый */
	--syntax-number: #0a3069; /* Темно-синий */
	--syntax-variable: #8250df; /* Фиолетовый */
	--syntax-operator: #24292f; /* Черный */
	--syntax-class-name: #953800; /* Коричневый */
	--syntax-function-name: #8250df; /* Фиолетовый */
	--syntax-self: #cf222e; /* Красный */
	--syntax-attribute: #0a3069; /* Темно-синий */
}

/* Основные стили, использующие переменные */
body {
	margin: 0;
	padding: 15px;
	background-color: var(--bg-color);
	color: var(--text-color);
	font-family: 'Fira Code', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono',
		monospace; /* Шрифт для кода по умолчанию */
	line-height: 1.5;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: center;
	min-height: 100vh;
	box-sizing: border-box;
	transition: background-color 0.3s ease, color 0.3s ease;
}

.theme-switcher {
	margin-bottom: 15px;
	display: flex;
	align-items: center;
	color: var(--text-color);
	transition: color 0.3s ease;
}

.theme-label {
	margin: 0 4px;
	font-size: 0.9em;
}

/* Стилизация переключателя (без изменений) */
.switch {
	position: relative;
	display: inline-block;
	width: 40px;
	height: 20px;
}
.switch input {
	opacity: 0;
	width: 0;
	height: 0;
}
.slider {
	position: absolute;
	cursor: pointer;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: #ccc;
	-webkit-transition: 0.4s;
	transition: 0.4s;
}
.light-theme .slider {
	background-color: #ccc;
}
.dark-theme .slider {
	background-color: #555;
}
.slider:before {
	position: absolute;
	content: '';
	height: 16px;
	width: 16px;
	left: 2px;
	bottom: 2px;
	background-color: white;
	-webkit-transition: 0.4s;
	transition: 0.4s;
}
input:checked + .slider {
	background-color: #2196f3;
}
input:checked + .slider:before {
	-webkit-transform: translateX(20px);
	-ms-transform: translateX(20px);
	transform: translateX(20px);
}
.slider.round {
	border-radius: 20px;
}
.slider.round:before {
	border-radius: 50%;
}
body.light-theme .dark-label {
	display: none;
}
body.dark-theme .light-label {
	display: none;
}

/* Контейнер для двух колонок: редактор (слева) + инфо-панель (справа) */
.main-layout {
	display: flex;
	flex-direction: row;
	width: 100%;
	max-width: 1100px;
	gap: 25px;
	align-items: flex-start;
	margin: 0 auto;
	flex-grow: 1;
}

.editor-container {
	display: block;
	background-color: var(--editor-bg);
	border-radius: 8px;
	overflow: hidden;
	box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
	border: 1px solid var(--border-color); /* Рамка */

	/* Flex свойства для десктопа: */
	flex-basis: 600px;
	flex-grow: 0;
	flex-shrink: 1;

	margin: 0;
	min-width: 0;
}

.code-content {
	padding: 15px 20px;
	overflow: auto;
	line-height: 1.5;
	min-height: 400px; /* Минимальная высота для контейнера кода */
}

/* Стили для каждой строки текста (div внутри code-content) */
.code-content div {
	line-height: 1.5;
	padding: 0;
	margin: 0;
	white-space: pre-wrap;
	word-wrap: break-word;
	display: flex;
	align-items: baseline;
}

/* Специальный класс для строк с длинными ссылками */
.code-line-wrap {
	flex-wrap: wrap;
}

.code-line-wrap .line-num {
	width: 100%;
	margin-bottom: 4px;
}

.code-line-wrap .py-string:last-child {
	padding-left: 50px; /* Отступ для выравнивания при переносе */
}

.line-num {
	flex-shrink: 0;
	width: 35px;
	text-align: right;
	margin-right: 15px;
	color: var(--line-numbers-color);
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
}

/* Подсветка синтаксиса Python (без изменений) */
.py-keyword {
	color: var(--syntax-keyword);
}
.py-string {
	color: var(--syntax-string);
}
.py-comment {
	color: var(--syntax-comment);
	font-style: italic;
}
.py-number {
	color: var(--syntax-number);
}
.py-variable {
	color: var(--syntax-variable);
}
.py-operator {
	color: var(--syntax-operator);
}
.py-class-name {
	color: var(--syntax-class-name);
}
.py-function-name {
	color: var(--syntax-function-name);
}
.py-self {
	color: var(--syntax-self);
}
.py-attribute {
	color: var(--syntax-attribute);
}

/* Стиль для пустых строк */
.code-content div:empty {
	min-height: 1.5em;
}

/* Блок справа - инфо-панель */
.info-panel {
	flex-grow: 1;
	flex-shrink: 1;
	flex-basis: 300px;
	min-width: 300px;

	background-color: var(--info-panel-bg);
	color: var(--info-text-color);
	font-family: 'Roboto', sans-serif; /* Обычный шрифт для текста */
	line-height: 1.6;
	padding: 20px;
	border-radius: 8px;
	box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Тень */
	border: 1px solid var(--border-color); /* Рамка */
	overflow: auto;
}

.info-panel h2,
.info-panel h3 {
	color: var(--text-color);
	margin-top: 0;
	margin-bottom: 10px;
	font-family: 'Roboto', sans-serif;
}

.info-panel p {
	margin-bottom: 15px;
}

.info-panel ul {
	margin-bottom: 15px;
	padding-left: 20px;
}

.info-panel li {
	margin-bottom: 5px;
}

/* Стили для ссылок в коде */
.py-string a {
	color: inherit;
	text-decoration: none;
	border-bottom: 1px dashed;
}

.py-string a:hover {
	opacity: 0.8;
}

/* *** АДАПТИВНОСТЬ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ *** */
@media (max-width: 900px) {
	.main-layout {
		flex-direction: column; /* Колонки друг под другом */
		gap: 20px; /* Отступ между блоками */
		max-width: 600px; /* Ограничиваем ширину блоков в вертикальном режиме */
	}

	.editor-container,
	.info-panel {
		width: 100%; /* Занимают всю ширину родителя (main-layout) */
		max-width: 100%; /* Сбрасываем max-width для editor */
		flex-basis: auto; /* Сбрасываем предпочтительную ширину */
		flex-shrink: 1; /* Позволяем сжиматься */
		flex-grow: 0; /* Не нужно расти больше содержимого */
		min-width: 0; /* Позволяем сжиматься на очень узких экранах */
	}

	.info-panel {
		min-width: 0; /* Сбрасываем min-width */
	}

	body {
		padding: 10px; /* Меньший отступ по краям body */
	}

	.theme-switcher {
		margin-bottom: 10px; /* Меньший отступ */
	}

	.code-content {
		padding: 10px 15px; /* Меньшие внутренние отступы в редакторе на мобильных */
		font-size: 0.9em; /* Уменьшаем размер шрифта на мобильных */
	}

	.info-panel {
		padding: 15px; /* Меньшие внутренние отступы в панели на мобильных */
	}

	.line-num {
		width: 30px; /* Чуть меньше ширина для номеров строк на мобильных */
		margin-right: 10px;
	}

	/* Улучшаем отображение строк с длинными ссылками на мобильных */
	.code-line-wrap .py-string:last-child {
		padding-left: 40px;
	}
}

/* Опционально: еще меньшие отступы на совсем маленьких экранах */
@media (max-width: 480px) {
	body {
		padding: 8px;
	}
	.main-layout {
		gap: 15px;
	}
	.code-content {
		padding: 8px 10px;
		font-size: 0.85em; /* Еще меньше шрифт на маленьких экранах */
	}
	.info-panel {
		padding: 10px;
	}
	.line-num {
		width: 25px; /* Еще меньше ширина для номеров */
		margin-right: 8px;
	}

	/* Еще меньше отступ для очень маленьких экранов */
	.code-line-wrap .py-string:last-child {
		padding-left: 30px;
	}
}

/* Стилизация скроллбара (для editor и info-panel) */
.editor-container::-webkit-scrollbar,
.info-panel::-webkit-scrollbar,
.code-content::-webkit-scrollbar {
	height: 8px;
	width: 8px;
	background-color: transparent;
}

.editor-container::-webkit-scrollbar-thumb,
.info-panel::-webkit-scrollbar-thumb,
.code-content::-webkit-scrollbar-thumb {
	background-color: #555;
	border-radius: 4px;
}

body.light-theme .editor-container::-webkit-scrollbar-thumb,
body.light-theme .info-panel::-webkit-scrollbar-thumb,
body.light-theme .code-content::-webkit-scrollbar-thumb {
	background-color: #ccc; /* Цвет в светлой теме */
}

.editor-container::-webkit-scrollbar-thumb:hover,
.info-panel::-webkit-scrollbar-thumb:hover,
.code-content::-webkit-scrollbar-thumb:hover {
	background-color: #777;
}

/* Стилизация скроллбара (Firefox) */
.editor-container,
.info-panel,
.code-content {
	scrollbar-width: thin;
	scrollbar-color: #555 transparent;
}

body.light-theme .editor-container,
body.light-theme .info-panel,
body.light-theme .code-content {
	scrollbar-color: #ccc transparent;
}
